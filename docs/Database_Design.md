# 가계부 서비스 Database Design

## 1. 문서 개요

본 문서는 가계부 서비스의 MongoDB 데이터베이스 설계를 상세히 기술한 문서입니다.

**데이터베이스**: MongoDB 6.0+  
**데이터베이스명**: `household_book`

**참조 문서**: PRD 5, TRD 3

---

## 2. 데이터베이스 구조 개요

```
household_book (Database)
├── transactions (Collection) - 거래 내역
├── categories (Collection) - 카테고리
└── budgets (Collection) - 예산
```

---

## 3. 컬렉션 상세 설계

### 3.1 transactions 컬렉션

#### 3.1.1 목적
지출 및 수입 거래 내역을 저장하는 컬렉션입니다.

#### 3.1.2 스키마 정의

```javascript
{
  _id: ObjectId,                    // MongoDB 자동 생성 ID
  type: String,                     // 필수: "expense" | "income"
  date: Date,                       // 필수: 거래 날짜 (ISO 형식)
  amount: Number,                   // 필수: 금액 (양수만 허용)
  category: String,                 // 필수: 카테고리 이름 (categories.name 참조)
  memo: String,                     // 선택: 메모 (최대 500자)
  receiptImagePath: String,        // 선택: 영수증 이미지 파일 경로
  createdAt: Date,                  // 자동 생성: 생성 일시
  updatedAt: Date                   // 자동 업데이트: 수정 일시
}
```

#### 3.1.3 필드 상세 설명

| 필드명 | 타입 | 필수 | 설명 | 제약사항 |
|--------|------|------|------|----------|
| `_id` | ObjectId | 예 | 문서 고유 ID | MongoDB 자동 생성 |
| `type` | String | 예 | 거래 타입 | "expense" 또는 "income" |
| `date` | Date | 예 | 거래 날짜 | ISO 8601 형식 |
| `amount` | Number | 예 | 금액 | 양수만 허용, 소수점 2자리 |
| `category` | String | 예 | 카테고리 이름 | categories 컬렉션의 name 참조 |
| `memo` | String | 아니오 | 메모 | 최대 500자 |
| `receiptImagePath` | String | 아니오 | 영수증 이미지 경로 | 로컬 파일 시스템 경로 |
| `createdAt` | Date | 예 | 생성 일시 | 자동 생성 |
| `updatedAt` | Date | 예 | 수정 일시 | 자동 업데이트 |

#### 3.1.4 인덱스 설계

```javascript
// 날짜 역순 인덱스 (최신순 조회)
db.transactions.createIndex({ date: -1 })

// 카테고리별 조회 인덱스
db.transactions.createIndex({ category: 1 })

// 타입별 날짜 조회 인덱스
db.transactions.createIndex({ type: 1, date: -1 })

// 날짜+카테고리 복합 인덱스 (통계 쿼리 최적화)
db.transactions.createIndex({ date: 1, category: 1 })

// 텍스트 검색 인덱스 (메모 검색용)
db.transactions.createIndex({ memo: "text" })
```

#### 3.1.5 샘플 문서

```javascript
{
  _id: ObjectId("507f1f77bcf86cd799439011"),
  type: "expense",
  date: ISODate("2024-01-15T00:00:00Z"),
  amount: 4000,
  category: "식비",
  memo: "점심 식사",
  receiptImagePath: "/uploads/receipts/2024/01/receipt_20240115_143022.jpg",
  createdAt: ISODate("2024-01-15T14:30:22Z"),
  updatedAt: ISODate("2024-01-15T14:30:22Z")
}
```

#### 3.1.6 데이터 무결성 규칙

1. **금액 검증**: `amount`는 항상 양수여야 함
2. **카테고리 참조**: `category`는 `categories` 컬렉션에 존재해야 함
3. **날짜 검증**: `date`는 유효한 날짜여야 함
4. **타입 검증**: `type`은 "expense" 또는 "income"만 허용

**참조**: PRD 2.2.3, PRD 5.1, TRD 3.2.1, TRD 3.3

---

### 3.2 categories 컬렉션

#### 3.2.1 목적
지출 및 수입 카테고리를 저장하는 컬렉션입니다.

#### 3.2.2 스키마 정의

```javascript
{
  _id: ObjectId,                    // MongoDB 자동 생성 ID
  name: String,                     // 필수: 카테고리 이름 (고유값)
  type: String,                     // 필수: "expense" | "income"
  color: String,                    // 필수: HEX 색상 코드 (#FF5733)
  icon: String,                     // 선택: 아이콘 이름
  createdAt: Date                   // 자동 생성: 생성 일시
}
```

#### 3.2.3 필드 상세 설명

| 필드명 | 타입 | 필수 | 설명 | 제약사항 |
|--------|------|------|------|----------|
| `_id` | ObjectId | 예 | 문서 고유 ID | MongoDB 자동 생성 |
| `name` | String | 예 | 카테고리 이름 | 고유값, 중복 불가 |
| `type` | String | 예 | 카테고리 타입 | "expense" 또는 "income" |
| `color` | String | 예 | 색상 코드 | HEX 형식 (#RRGGBB) |
| `icon` | String | 아니오 | 아이콘 이름 | 아이콘 라이브러리 이름 |
| `createdAt` | Date | 예 | 생성 일시 | 자동 생성 |

#### 3.2.4 인덱스 설계

```javascript
// 이름 유니크 인덱스 (중복 방지)
db.categories.createIndex({ name: 1 }, { unique: true })

// 타입별 조회 인덱스
db.categories.createIndex({ type: 1 })
```

#### 3.2.5 샘플 문서

```javascript
// 지출 카테고리
{
  _id: ObjectId("507f1f77bcf86cd799439012"),
  name: "식비",
  type: "expense",
  color: "#FF6B6B",
  icon: "restaurant",
  createdAt: ISODate("2024-01-01T00:00:00Z")
}

// 수입 카테고리
{
  _id: ObjectId("507f1f77bcf86cd799439013"),
  name: "월급",
  type: "income",
  color: "#10B981",
  icon: "wallet",
  createdAt: ISODate("2024-01-01T00:00:00Z")
}
```

#### 3.2.6 데이터 무결성 규칙

1. **이름 고유성**: `name`은 전체 컬렉션에서 고유해야 함
2. **타입 검증**: `type`은 "expense" 또는 "income"만 허용
3. **색상 형식**: `color`는 HEX 형식 (#RRGGBB)이어야 함
4. **삭제 제약**: `transactions` 컬렉션에서 사용 중인 카테고리는 삭제 불가

**참조**: PRD 2.3.3, PRD 2.3.4, PRD 5.2, TRD 3.2.2, TRD 3.3

---

### 3.3 budgets 컬렉션

#### 3.3.1 목적
카테고리별 예산을 저장하는 컬렉션입니다.

#### 3.3.2 스키마 정의

```javascript
{
  _id: ObjectId,                    // MongoDB 자동 생성 ID
  category: String,                 // 필수: 카테고리 이름 (categories.name 참조)
  amount: Number,                   // 필수: 예산 금액 (양수만 허용)
  period: String,                   // 필수: 예산 주기 "monthly" | "yearly"
  createdAt: Date,                  // 자동 생성: 생성 일시
  updatedAt: Date                   // 자동 업데이트: 수정 일시
}
```

#### 3.3.3 필드 상세 설명

| 필드명 | 타입 | 필수 | 설명 | 제약사항 |
|--------|------|------|------|----------|
| `_id` | ObjectId | 예 | 문서 고유 ID | MongoDB 자동 생성 |
| `category` | String | 예 | 카테고리 이름 | categories.name 참조, 지출 카테고리만 |
| `amount` | Number | 예 | 예산 금액 | 양수만 허용 |
| `period` | String | 예 | 예산 주기 | "monthly" 또는 "yearly" |
| `createdAt` | Date | 예 | 생성 일시 | 자동 생성 |
| `updatedAt` | Date | 예 | 수정 일시 | 자동 업데이트 |

#### 3.3.4 인덱스 설계

```javascript
// 카테고리+주기 유니크 인덱스 (중복 방지)
db.budgets.createIndex({ category: 1, period: 1 }, { unique: true })

// 주기별 조회 인덱스
db.budgets.createIndex({ period: 1 })
```

#### 3.3.5 샘플 문서

```javascript
{
  _id: ObjectId("507f1f77bcf86cd799439014"),
  category: "식비",
  amount: 300000,
  period: "monthly",
  createdAt: ISODate("2024-01-01T00:00:00Z"),
  updatedAt: ISODate("2024-01-15T10:00:00Z")
}
```

#### 3.3.6 데이터 무결성 규칙

1. **카테고리 참조**: `category`는 `categories` 컬렉션의 지출 카테고리여야 함
2. **중복 방지**: 동일 `category`와 `period` 조합은 하나만 존재 가능
3. **금액 검증**: `amount`는 양수여야 함
4. **주기 검증**: `period`는 "monthly" 또는 "yearly"만 허용

**참조**: PRD 2.4.3, PRD 5.3, TRD 3.2.3, TRD 3.3

---

## 4. 관계 설계

### 4.1 컬렉션 간 관계

```
categories (1) ────< (N) transactions
     │
     │ (1)
     │
     └───< (N) budgets
```

#### 4.1.1 categories ↔ transactions
- **관계**: 1:N (하나의 카테고리는 여러 거래 내역을 가질 수 있음)
- **참조 방식**: `transactions.category` → `categories.name` (문자열 참조)
- **제약사항**: 카테고리 삭제 시 해당 카테고리를 사용하는 거래 내역이 있으면 삭제 불가

#### 4.1.2 categories ↔ budgets
- **관계**: 1:N (하나의 카테고리는 여러 예산을 가질 수 있음, 주기별로)
- **참조 방식**: `budgets.category` → `categories.name` (문자열 참조)
- **제약사항**: 지출 카테고리만 예산 설정 가능

---

## 5. 쿼리 패턴 및 최적화

### 5.1 자주 사용되는 쿼리 패턴

#### 5.1.1 거래 내역 조회 (날짜 범위, 필터링)

```javascript
// 날짜 범위로 조회 (최신순)
db.transactions.find({
  date: {
    $gte: ISODate("2024-01-01T00:00:00Z"),
    $lte: ISODate("2024-01-31T23:59:59Z")
  }
}).sort({ date: -1 })

// 카테고리별 조회
db.transactions.find({ category: "식비" })

// 타입별 조회
db.transactions.find({ type: "expense" })

// 복합 필터 (날짜 + 카테고리 + 타입)
db.transactions.find({
  date: { $gte: ISODate("2024-01-01"), $lte: ISODate("2024-01-31") },
  category: "식비",
  type: "expense"
})
```

#### 5.1.2 통계 쿼리 (집계)

```javascript
// 카테고리별 지출 합계
db.transactions.aggregate([
  { $match: { type: "expense", date: { $gte: ISODate("2024-01-01"), $lte: ISODate("2024-01-31") } } },
  { $group: { _id: "$category", total: { $sum: "$amount" }, count: { $sum: 1 } } },
  { $sort: { total: -1 } }
])

// 월별 지출 합계
db.transactions.aggregate([
  { $match: { type: "expense" } },
  { $group: {
    _id: { year: { $year: "$date" }, month: { $month: "$date" } },
    total: { $sum: "$amount" }
  }},
  { $sort: { "_id.year": -1, "_id.month": -1 } }
])
```

#### 5.1.3 예산 대비 지출 계산

```javascript
// 특정 카테고리의 현재 월 지출 합계
db.transactions.aggregate([
  { $match: {
    category: "식비",
    type: "expense",
    date: {
      $gte: ISODate("2024-01-01T00:00:00Z"),
      $lt: ISODate("2024-02-01T00:00:00Z")
    }
  }},
  { $group: { _id: null, total: { $sum: "$amount" } } }
])
```

### 5.2 인덱스 활용 전략

1. **날짜 범위 쿼리**: `{ date: -1 }` 인덱스 활용
2. **카테고리 필터**: `{ category: 1 }` 인덱스 활용
3. **복합 쿼리**: `{ date: 1, category: 1 }` 복합 인덱스 활용
4. **텍스트 검색**: `{ memo: "text" }` 텍스트 인덱스 활용

---

## 6. 데이터 마이그레이션 전략

### 6.1 초기 데이터 설정

#### 6.1.1 기본 카테고리 생성

```javascript
// 지출 카테고리
db.categories.insertMany([
  { name: "식비", type: "expense", color: "#FF6B6B", icon: "restaurant", createdAt: new Date() },
  { name: "교통비", type: "expense", color: "#4ECDC4", icon: "car", createdAt: new Date() },
  { name: "쇼핑", type: "expense", color: "#95E1D3", icon: "shopping-bag", createdAt: new Date() },
  { name: "의료비", type: "expense", color: "#F38181", icon: "heart", createdAt: new Date() },
  { name: "교육비", type: "expense", color: "#AA96DA", icon: "book", createdAt: new Date() },
  { name: "기타", type: "expense", color: "#FFD93D", icon: "ellipsis", createdAt: new Date() }
])

// 수입 카테고리
db.categories.insertMany([
  { name: "월급", type: "income", color: "#10B981", icon: "wallet", createdAt: new Date() },
  { name: "용돈", type: "income", color: "#6EE7B7", icon: "gift", createdAt: new Date() },
  { name: "부수입", type: "income", color: "#34D399", icon: "trending-up", createdAt: new Date() },
  { name: "기타", type: "income", color: "#A7F3D0", icon: "ellipsis", createdAt: new Date() }
])
```

---

## 7. 백업 및 복구 전략

### 7.1 백업 방법

```bash
# MongoDB 덤프 생성
mongodump --db=household_book --out=/backup/$(date +%Y%m%d)

# 특정 컬렉션만 백업
mongodump --db=household_book --collection=transactions --out=/backup
```

### 7.2 복구 방법

```bash
# 전체 데이터베이스 복구
mongorestore --db=household_book /backup/20240115/household_book

# 특정 컬렉션만 복구
mongorestore --db=household_book --collection=transactions /backup/transactions.bson
```

---

## 8. 성능 고려사항

### 8.1 쿼리 최적화

1. **프로젝션 사용**: 필요한 필드만 조회
2. **인덱스 활용**: 자주 사용되는 쿼리 패턴에 맞는 인덱스 생성
3. **페이징**: 대량 데이터 조회 시 limit/skip 사용

### 8.2 데이터 아카이빙

- 오래된 거래 내역은 별도 컬렉션으로 아카이빙 고려
- 통계 데이터는 별도 컬렉션에 사전 계산하여 저장 고려

---

## 9. 보안 고려사항

### 9.1 데이터 검증

- 애플리케이션 레벨에서 모든 입력 데이터 검증
- MongoDB 스키마 검증 (MongoDB 3.2+)

### 9.2 접근 제어

- 로컬 개발 환경이므로 인증 없음 (PRD 참조)
- 프로덕션 배포 시 MongoDB 인증 설정 필요

---

## 10. 확장성 고려사항

### 10.1 샤딩 (Sharding)

대량 데이터 발생 시 고려:
- 날짜 기반 샤딩
- 카테고리 기반 샤딩

### 10.2 읽기 복제본

통계 쿼리가 많을 경우 읽기 전용 복제본 활용 고려

---

## 참고사항

- 본 설계는 MongoDB 6.0+ 기준으로 작성되었습니다.
- 실제 구현 시 애플리케이션 레벨에서 추가 검증이 필요합니다.
- 성능 모니터링을 통해 인덱스 및 쿼리를 지속적으로 최적화해야 합니다.
```

```markdown:docs/Wireframe.md
# 가계부 서비스 Wireframe

## 1. 문서 개요

본 문서는 가계부 서비스의 주요 화면 와이어프레임을 ASCII Art와 설명으로 정리한 문서입니다.

**참조 문서**: PRD 7, Design System, User Flow

---

## 2. 공통 레이아웃

### 2.1 데스크톱 레이아웃

```
┌─────────────────────────────────────────────────────────────┐
│  [로고]  가계부                    [검색]  [설정]  [사용자]   │ ← 헤더
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌──────────┐  ┌───────────────────────────────────────┐  │
│  │          │  │                                       │  │
│  │ 사이드바  │  │         메인 컨텐츠 영역               │  │
│  │          │  │                                       │  │
│  │ • 대시보드│  │                                       │  │
│  │ • 거래내역│  │                                       │  │
│  │ • 영수증  │  │                                       │  │
│  │ • 통계    │  │                                       │  │
│  │ • 카테고리│  │                                       │  │
│  │ • 예산    │  │                                       │  │
│  │ • 설정    │  │                                       │  │
│  │          │  │                                       │  │
│  └──────────┘  └───────────────────────────────────────┘  │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 2.2 모바일 레이아웃

```
┌─────────────────────┐
│  [로고]  가계부  [☰] │ ← 헤더
├─────────────────────┤
│                     │
│                     │
│   메인 컨텐츠 영역   │
│                     │
│                     │
│                     │
├─────────────────────┤
│ [홈][거래][📷][통계]│ ← 하단 네비게이션
└─────────────────────┘
```

---

## 3. 주요 페이지 와이어프레임

### 3.1 대시보드 페이지

#### 3.1.1 데스크톱

```
┌─────────────────────────────────────────────────────────────┐
│  [로고]  가계부                    [검색]  [설정]            │
├─────────────────────────────────────────────────────────────┤
│  ┌──────┐  ┌───────────────────────────────────────────┐  │
│  │ 사이드│  │  대시보드                                    │  │
│  │ 바    │  │                                             │  │
│  │       │  │  ┌──────────┐  ┌──────────┐  ┌──────────┐ │  │
│  │ • 대시│  │  │ 오늘 지출 │  │ 이번 달   │  │ 이번 달   │ │  │
│  │   보드│  │  │           │  │ 지출      │  │ 수입      │ │  │
│  │ • 거래│  │  │ ₩ 15,000  │  │ ₩ 500,000 │  │ ₩ 2,000K  │ │  │
│  │   내역│  │  │           │  │           │  │           │ │  │
│  │ • 영수│  │  │ 어제 대비  │  │ 전월 대비  │  │ 순수입    │ │  │
│  │   증  │  │  │ +5%       │  │ -10%      │  │ ₩ 1,500K  │ │  │
│  │ • 통계│  │  └──────────┘  └──────────┘  └──────────┘ │  │
│  │ • 카테│  │                                             │  │
│  │   고리│  │  ┌──────────┐  ┌──────────┐              │  │
│  │ • 예산│  │  │ 예산 사용률 │  │ 최근 거래  │              │  │
│  │ • 설정│  │  │           │  │ 내역      │              │  │
│  │       │  │  │ 식비: 67% │  │ • 편의점  │              │  │
│  │       │  │  │ [████░░] │  │   ₩ 4,000 │              │  │
│  │       │  │  │           │  │ • 카페    │              │  │
│  │       │  │  │ 교통비:45%│  │   ₩ 6,000 │              │  │
│  │       │  │  │ [█████░] │  │ • 식당    │              │  │
│  │       │  │  └──────────┘  │   ₩ 15,000│              │  │
│  │       │  │                └──────────┘              │  │
│  │       │  │                                             │  │
│  │       │  │  ┌─────────────────────────────────────┐  │  │
│  │       │  │  │ 최근 7일 지출 추이                    │  │  │
│  │       │  │  │                                       │  │  │
│  │       │  │  │    [라인 차트]                        │  │  │
│  │       │  │  │                                       │  │  │
│  │       │  │  └─────────────────────────────────────┘  │  │
│  └───────┘  └───────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
```

#### 3.1.2 모바일

```
┌─────────────────────┐
│  [로고]  가계부  [☰] │
├─────────────────────┤
│  대시보드            │
│                     │
│  ┌─────────────────┐ │
│  │ 오늘 지출        │ │
│  │ ₩ 15,000        │ │
│  │ 어제 대비 +5%    │ │
│  └─────────────────┘ │
│                     │
│  ┌─────────────────┐ │
│  │ 이번 달 지출     │ │
│  │ ₩ 500,000        │ │
│  └─────────────────┘ │
│                     │
│  ┌─────────────────┐ │
│  │ 이번 달 수입     │ │
│  │ ₩ 2,000,000     │ │
│  └─────────────────┘ │
│                     │
│  ┌─────────────────┐ │
│  │ 최근 거래 내역    │ │
│  │ • 편의점 ₩ 4,000 │ │
│  │ • 카페 ₩ 6,000   │ │
│  │ • 식당 ₩ 15,000  │ │
│  └─────────────────┘ │
├─────────────────────┤
│ [홈][거래][📷][통계]│
└─────────────────────┘
```

**참조**: PRD 2.5.1

---

### 3.2 거래 내역 페이지

#### 3.2.1 데스크톱

```
┌─────────────────────────────────────────────────────────────┐
│  [로고]  가계부                    [검색]  [설정]            │
├─────────────────────────────────────────────────────────────┤
│  ┌──────┐  ┌───────────────────────────────────────────┐  │
│  │ 사이드│  │  거래 내역                    [+ 추가]     │  │
│  │ 바    │  ├───────────────────────────────────────────┤  │
│  │       │  │  [필터] [날짜▼] [카테고리▼] [타입▼] [검색] │  │
│  │ • 대시│  ├───────────────────────────────────────────┤  │
│  │   보드│  │  날짜      카테고리  금액      메모      액션│  │
│  │ • 거래│  ├───────────────────────────────────────────┤  │
│  │   내역│  │  01/15    [식비]    ₩ 4,000   편의점  [✏][🗑]│  │
│  │ • 영수│  │  01/15    [식비]    ₩ 15,000  점심     [✏][🗑]│  │
│  │   증  │  │  01/14    [교통]    ₩ 1,500   지하철   [✏][🗑]│  │
│  │ • 통계│  │  01/14    [식비]    ₩ 8,000   커피     [✏][🗑]│  │
│  │ • 카테│  │  01/13    [수입]    ₩ 2,000K  월급     [✏][🗑]│  │
│  │   고리│  │  ...                                       │  │
│  │ • 예산│  │                                             │  │
│  │ • 설정│  │  [< 이전]  [1] [2] [3] ... [다음 >]        │  │
│  │       │  └───────────────────────────────────────────┘  │
│  └───────┘                                                  │
└─────────────────────────────────────────────────────────────┘
```

#### 3.2.2 모바일 (카드 형식)

```
┌─────────────────────┐
│  [로고]  가계부  [☰] │
├─────────────────────┤
│  거래 내역    [+ 추가]│
│                     │
│  [필터] [검색]       │
│                     │
│  ┌─────────────────┐ │
│  │ [식비] 편의점    │ │
│  │ ₩ 4,000         │ │
│  │ 2024-01-15      │ │
│  │ [이미지] [✏][🗑] │ │
│  └─────────────────┘ │
│                     │
│  ┌─────────────────┐ │
│  │ [식비] 점심      │ │
│  │ ₩ 15,000        │ │
│  │ 2024-01-15      │ │
│  │ [✏][🗑]         │ │
│  └─────────────────┘ │
│                     │
│  ┌─────────────────┐ │
│  │ [교통] 지하철    │ │
│  │ ₩ 1,500         │ │
│  │ 2024-01-14      │ │
│  │ [✏][🗑]         │ │
│  └─────────────────┘ │
├─────────────────────┤
│ [홈][거래][📷][통계]│
└─────────────────────┘
```

**참조**: PRD 2.2, PRD 2.2.4, PRD 2.2.5

---

### 3.3 거래 내역 추가/수정 모달

```
┌─────────────────────────────────────┐
│  거래 내역 추가              [X]    │
├─────────────────────────────────────┤
│                                     │
│  타입 *                             │
│  ○ 지출  ● 수입                     │
│                                     │
│  날짜 *                             │
│  [2024-01-15        ] [📅]          │
│                                     │
│  금액 *                             │
│  [                ] 원              │
│                                     │
│  카테고리 *                         │
│  [식비 ▼]                           │
│                                     │
│  메모                               │
│  [                        ]         │
│                                     │
│  영수증 이미지                      │
│  [파일 선택] 또는 드래그 앤 드롭     │
│                                     │
│  [취소]              [저장]         │
│                                     │
└─────────────────────────────────────┘
```

**참조**: PRD 2.2.2

---

### 3.4 영수증 업로드 페이지

#### 3.4.1 데스크톱

```
┌─────────────────────────────────────────────────────────────┐
│  [로고]  가계부                    [검색]  [설정]            │
├─────────────────────────────────────────────────────────────┤
│  ┌──────┐  ┌───────────────────────────────────────────┐  │
│  │ 사이드│  │  영수증 업로드                             │  │
│  │ 바    │  │                                             │  │
│  │       │  │  ┌─────────────────────────────────────┐  │  │
│  │ • 대시│  │  │                                       │  │
│  │   보드│  │  │      [이미지 업로드 영역]              │  │
│  │ • 거래│  │  │                                       │  │
│  │   내역│  │  │    📷 카메라로 촬영 또는               │  │
│  │ • 영수│  │  │    파일 선택                          │  │
│  │   증  │  │  │                                       │  │
│  │ • 통계│  │  │    [파일 선택] 버튼                    │  │
│  │ • 카테│  │  │                                       │  │
│  │   고리│  │  └─────────────────────────────────────┘  │  │
│  │ • 예산│  │                                             │  │
│  │ • 설정│  │  [이미지 미리보기 영역]                    │  │
│  │       │  │                                             │  │
│  │       │  │  ┌─────────────────────────────────────┐  │  │
│  │       │  │  │ OCR 결과                            │  │
│  │       │  │  │                                     │  │
│  │       │  │  │ 날짜: [2024-01-15]                 │  │
│  │       │  │  │ 상호명: [편의점]                    │  │
│  │       │  │  │                                     │  │
│  │       │  │  │ 상품 목록:                          │  │
│  │       │  │  │ • 삼각김밥    ₩ 2,500              │  │
│  │       │  │  │ • 음료수      ₩ 1,500              │  │
│  │       │  │  │                                     │  │
│  │       │  │  │ 총액: [₩ 4,000]                    │  │
│  │       │  │  │ 카테고리: [식비 ▼]                  │  │
│  │       │  │  │ 메모: [점심 식사]                   │  │
│  │       │  │  │                                     │  │
│  │       │  │  │ [취소]              [저장]         │  │
│  │       │  │  └─────────────────────────────────────┘  │
│  └───────┘  └───────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
```

#### 3.4.2 모바일

```
┌─────────────────────┐
│  [로고]  가계부  [☰] │
├─────────────────────┤
│  영수증 업로드       │
│                     │
│  ┌─────────────────┐ │
│  │                 │ │
│  │  [이미지 영역]   │ │
│  │                 │ │
│  │  📷 촬영 또는    │ │
│  │  파일 선택       │ │
│  │                 │ │
│  └─────────────────┘ │
│                     │
│  [처리 중...]        │
│                     │
│  ┌─────────────────┐ │
│  │ OCR 결과        │ │
│  │                 │ │
│  │ 날짜: 2024-01-15│ │
│  │ 상호: 편의점    │ │
│  │ 총액: ₩ 4,000   │ │
│  │ 카테고리: 식비  │ │
│  │                 │ │
│  │ [수정] [저장]   │ │
│  └─────────────────┘ │
├─────────────────────┤
│ [홈][거래][📷][통계]│
└─────────────────────┘
```

**참조**: PRD 2.1, PRD 2.1.2

---

### 3.5 통계 페이지

#### 3.5.1 데스크톱

```
┌─────────────────────────────────────────────────────────────┐
│  [로고]  가계부                    [검색]  [설정]            │
├─────────────────────────────────────────────────────────────┤
│  ┌──────┐  ┌───────────────────────────────────────────┐  │
│  │ 사이드│  │  통계                    [기간 선택 ▼]     │  │
│  │ 바    │  ├───────────────────────────────────────────┤  │
│  │       │  │  [오늘] [이번 주] [이번 달] [이번 년] [기간]│  │
│  │ • 대시│  │                                             │  │
│  │   보드│  │  ┌─────────────────────────────────────┐  │  │
│  │ • 거래│  │  │ 카테고리별 지출 비율                │  │  │
│  │   내역│  │  │                                     │  │  │
│  │ • 영수│  │  │      [파이 차트]                    │  │  │
│  │   증  │  │  │                                     │  │  │
│  │ • 통계│  │  └─────────────────────────────────────┘  │  │
│  │ • 카테│  │                                             │  │
│  │   고리│  │  ┌─────────────────────────────────────┐  │  │
│  │ • 예산│  │  │ 날짜별 지출/수입 추이                │  │  │
│  │ • 설정│  │  │                                     │  │  │
│  │       │  │  │      [라인 차트]                    │  │  │
│  │       │  │  │                                     │  │  │
│  │       │  │  └─────────────────────────────────────┘  │  │
│  │       │  │                                             │  │
│  │       │  │  ┌─────────────────────────────────────┐  │  │
│  │       │  │  │ 월별 지출 비교                      │  │  │
│  │       │  │  │                                     │  │  │
│  │       │  │  │      [막대 차트]                   │  │  │
│  │       │  │  │                                     │  │  │
│  │       │  │  └─────────────────────────────────────┘  │  │
│  └───────┘  └───────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
```

**참조**: PRD 2.5

---

### 3.6 카테고리 관리 페이지

#### 3.6.1 데스크톱

```
┌─────────────────────────────────────────────────────────────┐
│  [로고]  가계부                    [검색]  [설정]            │
├─────────────────────────────────────────────────────────────┤
│  ┌──────┐  ┌───────────────────────────────────────────┐  │
│  │ 사이드│  │  카테고리 관리              [+ 카테고리 추가]│  │
│  │ 바    │  ├───────────────────────────────────────────┤  │
│  │       │  │  [지출] [수입]                            │  │
│  │ • 대시│  │                                             │  │
│  │   보드│  │  카테고리명    타입    색상    아이콘    액션│  │
│  │ • 거래│  ├───────────────────────────────────────────┤  │
│  │   내역│  │  식비          지출    🔴    🍽️      [✏][🗑]│  │
│  │ • 영수│  │  교통비        지출    🔵    🚗      [✏][🗑]│  │
│  │   증  │  │  쇼핑          지출    🟢    🛍️      [✏][🗑]│  │
│  │ • 통계│  │  의료비        지출    🟡    ❤️      [✏][🗑]│  │
│  │ • 카테│  │  교육비        지출    🟣    📚      [✏][🗑]│  │
│  │   고리│  │  기타          지출    🟠    ⋯      [✏][🗑]│  │
│  │ • 예산│  │                                             │  │
│  │ • 설정│  │  월급          수입    🟢    💰      [✏][🗑]│  │
│  │       │  │  용돈          수입    🟢    🎁      [✏][🗑]│  │
│  │       │  │  부수입        수입    🟢    📈      [✏][🗑]│  │
│  └───────┘  └───────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
```

#### 3.6.2 카테고리 추가 모달

```
┌─────────────────────────────────────┐
│  카테고리 추가              [X]    │
├─────────────────────────────────────┤
│                                     │
│  이름 *                             │
│  [                        ]         │
│                                     │
│  타입 *                             │
│  ○ 지출  ○ 수입                     │
│                                     │
│  색상 *                             │
│  [🔴][🔵][🟢][🟡][🟣][🟠] ...      │
│                                     │
│  아이콘                              │
│  [🍽️ ▼]                            │
│                                     │
│  [취소]              [저장]         │
│                                     │
└─────────────────────────────────────┘
```

**참조**: PRD 2.3

---

### 3.7 예산 관리 페이지

#### 3.7.1 데스크톱

```
┌─────────────────────────────────────────────────────────────┐
│  [로고]  가계부                    [검색]  [설정]            │
├─────────────────────────────────────────────────────────────┤
│  ┌──────┐  ┌───────────────────────────────────────────┐  │
│  │ 사이드│  │  예산 관리                [+ 예산 추가]     │  │
│  │ 바    │  ├───────────────────────────────────────────┤  │
│  │       │  │  [월별] [연별]                            │  │
│  │ • 대시│  │                                             │  │
│  │   보드│  │  카테고리    예산      사용    사용률    남은│  │
│  │ • 거래│  ├───────────────────────────────────────────┤  │
│  │   내역│  │  식비        ₩300K   ₩200K   [████░░]  ₩100K│  │
│  │ • 영수│  │  교통비      ₩100K   ₩45K    [█████░]  ₩55K │  │
│  │   증  │  │  쇼핑        ₩200K   ₩250K   [██████]  -₩50K│  │
│  │ • 통계│  │  (예산 초과)                               │  │
│  │ • 카테│  │  의료비      ₩50K    ₩30K    [███░░░]  ₩20K │  │
│  │   고리│  │                                             │  │
│  │ • 예산│  │  [✏ 수정] [🗑 삭제] 버튼 각 행에 표시      │  │
│  │ • 설정│  │                                             │  │
│  └───────┘  └───────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
```

#### 3.7.2 예산 추가 모달

```
┌─────────────────────────────────────┐
│  예산 추가                  [X]    │
├─────────────────────────────────────┤
│                                     │
│  카테고리 *                         │
│  [식비 ▼]                           │
│                                     │
│  금액 *                             │
│  [                ] 원              │
│                                     │
│  주기 *                             │
│  ○ 월별  ○ 연별                     │
│                                     │
│  [취소]              [저장]         │
│                                     │
└─────────────────────────────────────┘
```

**참조**: PRD 2.4, PRD 2.4.4, PRD 2.4.5

---

### 3.8 설정 페이지

#### 3.8.1 데스크톱

```
┌─────────────────────────────────────────────────────────────┐
│  [로고]  가계부                    [검색]  [설정]            │
├─────────────────────────────────────────────────────────────┤
│  ┌──────┐  ┌───────────────────────────────────────────┐  │
│  │ 사이드│  │  설정                                      │  │
│  │ 바    │  │                                             │  │
│  │       │  │  기본 설정                                 │  │
│  │ • 대시│  │  ───────────────────────────────────────  │  │
│  │   보드│  │                                             │  │
│  │ • 거래│  │  통화 단위                                 │  │
│  │   내역│  │  [원 (₩) ▼]                               │  │
│  │ • 영수│  │                                             │  │
│  │   증  │  │  날짜 형식                                 │  │
│  │ • 통계│  │  [YYYY-MM-DD ▼]                           │  │
│  │ • 카테│  │                                             │  │
│  │   고리│  │  언어                                      │  │
│  │ • 예산│  │  [한국어 ▼]                                │  │
│  │ • 설정│  │                                             │  │
│  │       │  │  데이터 관리                               │  │
│  │       │  │  ───────────────────────────────────────  │  │
│  │       │  │                                             │  │
│  │       │  │  [데이터 내보내기 (CSV)]                   │  │
│  │       │  │  [데이터 내보내기 (JSON)]                  │  │
│  │       │  │  [데이터 가져오기]                         │  │
│  │       │  │  [데이터 초기화] (위험)                    │  │
│  └───────┘  └───────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
```

**참조**: PRD 2.6

---

## 4. 컴포넌트 와이어프레임

### 4.1 통계 카드 컴포넌트

```
┌─────────────────────┐
│  오늘 지출          │
│                     │
│  ₩ 15,000           │
│                     │
│  어제 대비 +5%      │
│  [↑]                │
└─────────────────────┘
```

### 4.2 거래 내역 카드 컴포넌트

```
┌─────────────────────┐
│  [식비] 편의점      │
│                     │
│  ₩ 4,000            │
│                     │
│  2024-01-15         │
│                     │
│  [이미지] [✏] [🗑]  │
└─────────────────────┘
```

### 4.3 프로그레스 바 컴포넌
```

